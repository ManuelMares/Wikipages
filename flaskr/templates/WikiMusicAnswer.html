{% extends "main.html" %}

{% block content %}

<style>
    .container {
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: center;
        width: 100vw;
        height: calc(100vh);
    }

    .songContainer {
        height: 100%;
        width: 50%;

        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: space-around;
        overflow-y: auto;
    }

    .spotify_song {
        height: 5rem;
        width: 90%;
        overflow: hidden;
        margin: 0;
        padding: 1rem;
        background-color: #d4d3d2;
    }

    .articlesContainer {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: start;
        height: calc(100% - 3rem);
        width: 50%;
        padding: 1rem;
        background-color: white;
        overflow: auto;
    }

    .article {
        width: 90%;
        min-height: 6rem;
        display: flex;
        flex-direction: column;
        box-shadow: 5px 5px 15px black;
        border-radius: 5px;
        overflow-y: hidden;
        margin: 2rem 0;
    }

    .article:hover {
        min-height: 30rem;
    }

    .articleTitle {
        display: flex;
        flex-direction: column;
        justify-content: space-evenly;
        align-items: center;

        color: rgb(0, 0, 0);
        text-align: none;
        font-size: 1.5rem;
        font-weight: 500;
        text-decoration: none;
    }

    .articleLink {
        font-size: 1rem;
        text-align: justify;
        width: 85%;
    }

    .articleBody {
        width: calc(100% -2rem);
        padding: 1rem;
        background-color: rgb(241, 241, 241);
        height: auto;
        padding: 1rem;
        overflow-y: auto;
    }

    .submitionButton:hover {
        background-color: #37b442 !important;
    }

    .submitionButton:active {
        background-color: rgb(101, 221, 111) !important;
    }
</style>
<div>

    <form id="formSubmition" method="post" action="#"
        style="background-color: rgb(175 175 241); padding: 2rem 10rem; margin-bottom: 2rem;">
        <h1 style="display: flex; align-items: center; justify-content:center; width:100%; color:white">
            (Re)search for a song!
        </h1>
        <div style="height: auto;width: 100%;display: flex;flex-direction: column; margin-bottom: 1rem; ">
            <P style="margin: 0;border: 0;padding: 0;font-weight: 1000;font-size: 1.3rem; color:azure">
                Artist:
            </P>
            <input id="artist" type="text" name="artist"
                style="border: none;background-color: white;margin: 0;padding: 0;height: 2rem;border-radius: 0.5rem;width: 100%;font-weight: 500;padding-left: 1rem;">
        </div>
        <div style="height: auto;width: 100%;display: flex;flex-direction: column; margin-bottom: 1rem;">
            <P style="margin: 0;border: 0;padding: 0;font-weight: 1000;font-size: 1.3rem; color:azure">
                Song name:
            </P>
            <input id="songname" type="text" name="songname"
                style="border: none;background-color: white;margin: 0;padding: 0;height: 2rem;border-radius: 0.5rem;width: 100%;font-weight: 500;padding-left: 1rem;">

            <p><input id="submitionButton" class="submitionButton" type="submit" value="search!" style="    margin-top: 1rem;
                    border: none;
                    color: #fff;
                    font-weight: 800;
                    font-size: 1.2em;
                    background-color: #4CAF50;
                    width: 100%;
                    height: 3rem;
                    border-radius: 0.5rem;" /></p>

        </div>


    </form>
    <div class="container">
        <div class="songContainer">
            {{iframes_spotify | safe}}
        </div>
        <div class="articlesContainer">
            <h1>Related articles</h1>
            {% for article in articles %}
            <div class="article" id="article{{key}}">
                <h1 class="articleTitle">
                    {{article["title"]}}
                    <a class="articleLink" href="{{article['fullurl']}}">
                        see full article at source
                    </a>
                </h1>
                <div class="articleBody">
                    <div>{{article["extract"] | safe }}</div>
                </div>
            </div>
            {% endfor %}

        </div>
    </div>
    <script>
        console.log(articles)
    </script>
</div>
{% endblock content %}